{"version":3,"sources":["../local_modules/@burner-wallet/assets/Asset.js","../local_modules/@burner-wallet/core/signers/Signer.js","../local_modules/@burner-wallet/assets/index.js","../local_modules/@burner-wallet/core/lib/EventEmitter.js","../local_modules/@burner-wallet/core/HistoryEvent.js","../local_modules/@burner-wallet/core/index.js","../local_modules/@burner-wallet/core/gateways/InfuraGateway.js","../local_modules/@burner-wallet/core/signers/InjectedSigner.js","../local_modules/@burner-wallet/core/signers/LocalSigner.js","assets/home.png","assets/send.png","assets/withdraw.png","../local_modules/@burner-wallet/assets/pricefeed.js","../local_modules/@burner-wallet/assets/utils/decimals.js","../local_modules/@burner-wallet/assets/ERC777Asset.js","../local_modules/@burner-wallet/assets/utils/canRelay.js","../local_modules/@burner-wallet/assets/dai.js","../local_modules/@burner-wallet/assets/eth.js","../local_modules/@burner-wallet/assets/sai.js","../local_modules/@burner-wallet/assets/usdc.js","../local_modules/@burner-wallet/assets/xdai.js","../local_modules/@burner-wallet/assets/keth.js","../local_modules/@burner-wallet/assets/kdai.js","../local_modules/@burner-wallet/core/BurnerCore.js","../local_modules/@burner-wallet/assets/ERC20Asset.js","../local_modules/@burner-wallet/core/ProxyProvider.js","../local_modules/@burner-wallet/core/History.js","../local_modules/@burner-wallet/core/signers/TempSigner.js","../local_modules/@burner-wallet/core/gateways/Gateway.js","../local_modules/@burner-wallet/core/lib/cookies.js","utils/colors.tsx","components/Ellipsis.tsx","components/Banners.tsx","utils/index.tsx","components/AnimatedBack.tsx","components/Button.tsx","components/Card.tsx","components/H2.tsx","components/UnstyledButton.tsx","components/SendCard.tsx","components/Address.tsx","components/Wallet.tsx","components/Wally.tsx","components/WithdrawCard.tsx","components/Contents.tsx","components/Nav.tsx","components/App.tsx","serviceWorker.ts","index.tsx","../local_modules/@burner-wallet/assets/NativeAsset.js"],"names":["require","toWei","fromWei","toBN","pricefeed","toDecimal","Asset","id","name","network","usdPrice","priceSymbol","icon","type","decimals","this","cleanupFunctions","core","txHash","Error","value","displayVal","toString","indexOf","substr","getDisplayValue","toFixed","account","getBalance","balance","getUSDValue","address","params","ether","_send","response","addHistoryEvent","asset","from","to","tx","message","timestamp","Math","floor","Date","now","recipient","Promise","all","getSendFee","sendFee","maximum","sub","charAt","interval","setInterval","getPrice","push","clearInterval","options","getWeb3","blockNum","eth","getBlock","block","_startPricePolling","forEach","fn","callback","running","loop","console","warn","setTimeout","unsubscribe","module","exports","EventEmitter","Signer","events","accounts","getAccounts","map","toLowerCase","on","action","ERC20Asset","ERC777Asset","NativeAsset","dai","sai","usdc","xdai","keth","kdai","listeners","event","data","HistoryEvent","props","assets","receivingAsset","override","metadata","filter","_asset","getAsset","Gateway","Web3","InfuraGateway","infuraKey","available","providerStrings","providers","stopping","_makeProvider","WebsocketProvider","e","log","payload","resolve","reject","getNetworks","_provider","send","err","error","result","Object","values","provider","disconnect","arrayEquals","a","b","length","every","val","i","InjectedSigner","autoEnable","web3","updateAccounts","enable","signTransaction","signedTransaction","msg","sign","isMetaMask","networkVersion","emit","window","ethereum","currentProvider","cookies","LocalSigner","privateKey","saveKey","gasMultiplier","_saveKey","_isValidPK","_generateAccountFromPK","_loadOrGenerateAccount","_tx","common","customChain","chainId","networkId","hardfork","multiplier","gas","mul","div","rawTransaction","signature","hasAccount","newPK","_generateNewAccount","pk","privateKeyToAccount","parseInt","localStorage","getItem","getCookie","_saveAccount","create","test","setItem","setCookie","AssetPrice","symbol","lastFetch","lastPrice","price","fetchPrice","toUpperCase","url","fetch","json","USD","weiInput","wei","base","pow","baseLength","fraction","mod","match","whole","IERC777abi","canRelay","abi","gasless","_gaslessContract","Contract","_getEventsFromTx","transferEvent","returnValues","amount","utils","toUtf8","_getBlockTimestamp","blockNumber","assetName","displayValue","poll","getBlockNumber","currentBlock","getContract","getPastEvents","fromBlock","toBlock","transactionHash","logIndex","_pollInterval","messageHex","fromUtf8","contract","getGaslessContract","methods","receipt","Sent","contractAddress","fromAddress","acceptRelayedCall","call","pollInterval","IXDaiBridge","XDaiNativeAsset","bridgeAddress","filteredEvents","historyEvents","getHistoryEvents","eventMatch","tabookey","ProxyProvider","History","TempSigner","BurnerCore","signers","gateways","historyOptions","gsnGasLimit","gsnGasPrice","history","gateway","setCore","start","unsubscribesBySigner","signer","index","watchAccounts","onAccountChange","unsubscribes","startWatchingAddress","availableSigners","isAvailable","concat","apply","txParams","signTx","signed","signMsg","shouldSkipSigning","method","sendTx","cacheKey","RelayProvider","txfee","force_gasLimit","force_gasPrice","getProvider","permissions","invoke","eventProps","addEvent","getEvents","listener","onEvent","removeListener","stop","IERC20abi","_contract","balanceOf","allowance","approve","max","getTransactionReceipt","transfer","Transfer","ProviderEngine","FiltersSubprovider","NonceSubProvider","HookedSubprovider","engine","pollingInterval","addProvider","handleRequest","next","end","setEngine","cb","then","signedTx","catch","signMessage","signPersonalMessage","random","args","sendAsync","storeHistory","eventsByTx","eventsById","eventListeners","readStoredEvents","splice","storeEvents","assetMatch","typeMatch","accountMatch","sort","e1","e2","JSON","stringify","storedEventObjs","parse","networks","key","document","cookie","split","oPair","sKey","decodeURIComponent","trim","sValue","sName","oDate","setYear","getFullYear","sCookie","encodeURIComponent","toGMTString","clearCookie","colors","green","lightGreen","darkGreen","yellowGreen","lightGray","mediumGray","darkGray","Ellipsis","size","style","margin","display","shapeRendering","width","height","viewBox","preserveAspectRatio","cx","cy","r","fill","attributeName","repeatCount","dur","calcMode","keyTimes","keySplines","begin","StyledBanner","styled","section","StyledInfo","StyledP1","p","StyledP2","StyledDismissButton","button","StyledIcon","Banner","line1","line2","onDismiss","onClick","Banners","withdrawal","setWithdrawal","setSend","isComplete","color","undefined","ethAmount","recipientAddress","eta","totalEthAmount","isBalanceZero","StyledChevron","FiChevronLeft","AnimatedBack","StyledButton","Button","children","disabled","StyledCard","Card","StyledH2","h2","H2","UnstyledButton","StyledHeader","StyledLabel","label","StyledLabelText","StyledInput","input","StyledFlex","StyledTokenLabel","SendCard","onBack","useState","setAmount","setAddress","onChange","target","placeholder","StyledAddress","copied","StyledPre","pre","Address","setCopied","text","onCopy","slice","truncateAddress","StyledUSD","span","StyledContents","StyledButtons","StyledTotal","h3","StyledToken","Wallet","onWithdraw","onSend","StyledImg","img","marginLeft","marginTop","Wally","view","src","HomeImage","WithdrawImage","SendImage","alt","StyledTextarea","textarea","WithdrawCard","note","setNote","place","data-tip","StyledContainer","Contents","setView","Fragment","StyledNav","nav","StyledH1","h1","Nav","StyledApp","App","setBalance","useEffect","process","_balance","script","createElement","async","body","appendChild","removeChild","contents","Boolean","location","hostname","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","toChecksumAddress","hexToNumberString","padLeft","TRANSFER_TOPIC","currentBalance","add","getBalanceDelta","scanBlocks","startBlock","_address","getPastLogs","topics","logs","parsedLog","getTransferLog","blockNums","transactions","getTransaction","hash","endBlock","reduce","reducer","estimateGas","getGasPrice","gasPrice","sendTransaction"],"mappings":"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","file":"static/js/main.8a52849f.chunk.js","sourcesContent":["const { fromWei, toWei, toBN } = require('web3-utils');\nconst pricefeed = require('./pricefeed');\nconst { toDecimal } = require('./utils/decimals');\n\nconst pollIntervalMs = 60 * 60 * 1000; // 60 minutes\n\nclass Asset {\n  constructor({ id, name, network, usdPrice, priceSymbol, icon=null, type=null, decimals=18 }) {\n    this.id = id;\n    this.name = name;\n    this.network = network;\n    this.usdPrice = usdPrice;\n    this.priceSymbol = priceSymbol;\n    this.type = type;\n    this.icon = icon;\n\n    this.decimals = decimals;\n\n    this.cleanupFunctions = [];\n  }\n\n  setCore(core) {\n    this.core = core;\n  }\n\n  supportsMessages() {\n    return false;\n  }\n\n  async getTx(txHash) {\n    throw new Error('Not implemented');\n  }\n\n  getDisplayValue(value, decimals=2) {\n    const displayVal = toDecimal(value.toString(), this.decimals);\n    if (displayVal.indexOf('.') !== -1) {\n      return displayVal.substr(0, displayVal.indexOf('.') + decimals + 1);\n    }\n    return displayVal;\n  }\n\n  getUSDValue(value, decimals=2) {\n    if (this.usdPrice) {\n      return (+this.getDisplayValue(value, 10) * this.usdPrice).toFixed(decimals);\n    }\n    throw new Error('USD price not available');\n  }\n\n  async getBalance(account) {\n    throw new Error('getBalance not implemented');\n  }\n\n  async getDisplayBalance(account, decimals=2) {\n    const balance = await this.getBalance(account);\n    return this.getDisplayValue(balance, decimals);\n  }\n\n  async getUSDBalance(account, decimals=2) {\n    const balance = await this.getBalance(account);\n    return this.getUSDValue(balance, decimals);\n  }\n\n  startWatchingAddress(address) {\n    throw new Error('watching not implemented');\n  }\n\n  async send(params) {\n    if (params.ether) {\n      params.value = toWei(params.ether, 'ether');\n      delete params.ether;\n    }\n    const response = await this._send(params);\n    this.core.addHistoryEvent({\n      id: response.id,\n      asset: this.id,\n      type: 'send',\n      value: params.value,\n      from: params.from,\n      to: params.to,\n      tx: response.txHash, // Chose between this and transactionshash\n      message: params.message || null,\n      timestamp: Math.floor(Date.now() / 1000),\n    });\n    return response;\n  }\n\n  async getMaximumSendableBalance(address, recipient='0x1111111111111111111111111111111111111111') {\n    const [balance, sendFee] = await Promise.all([\n      this.getBalance(address),\n      this.getSendFee(address, recipient),\n    ]);\n    const maximum = toBN(balance).sub(toBN(sendFee)).toString();\n\n    if (maximum.charAt(0) === '-') {\n      return '0';\n    }\n\n    return maximum;\n  }\n\n  async getSendFee() {\n    return '0';\n  }\n\n  async getGrowthRate() {\n    return '0';\n  }\n\n  async _send({ from, to, value }) {\n    throw new Error('send not implemented');\n  }\n\n  async _startPricePolling() {\n    const interval = setInterval(async () => {\n      this.usdPrice = await pricefeed.getPrice(this.priceSymbol);\n    }, pollIntervalMs);\n    this.cleanupFunctions.push(() => clearInterval(interval));\n\n    this.usdPrice = await pricefeed.getPrice(this.priceSymbol);\n  }\n\n  getWeb3(options) {\n    return this.core.getWeb3(this.network, options);\n  }\n\n  async _getBlockTimestamp(blockNum) {\n    const block = await this.getWeb3().eth.getBlock(blockNum);\n    return block.timestamp;\n  }\n\n  start() {\n    if (this.priceSymbol) {\n      this._startPricePolling();\n    }\n  }\n\n  stop() {\n    this.cleanupFunctions.forEach(fn => fn());\n  }\n\n  poll(callback, interval) {\n    let running = true;\n\n    const loop = async () => {\n      if (!running) {\n        return;\n      }\n      try {\n        await callback();\n      } catch (e) {\n        console.warn('Error in loop', e);\n      }\n      setTimeout(loop, interval);\n    }\n\n    loop();\n\n    const unsubscribe = () => {\n      running = false;\n    };\n    this.cleanupFunctions.push(unsubscribe);\n    return unsubscribe;\n  }\n}\n\nmodule.exports = Asset;\n","const EventEmitter = require('../lib/EventEmitter');\n\nclass Signer {\n  constructor({ id=null }={}) {\n    this.events = new EventEmitter();\n    this.accounts = [];\n    this.core = null;\n    this.id = id;\n  }\n\n  setCore(core) {\n    this.core = core;\n  }\n\n  isAvailable() {\n    return true;\n  }\n\n  getAccounts() {\n    return this.accounts;\n  }\n\n  hasAccount(account) {\n    return this.getAccounts()\n      .map(address => address.toLowerCase())\n      .indexOf(account.toLowerCase()) !== -1;\n  }\n\n  signTx() {\n    throw new Error('signTx() not implemented');\n  }\n\n  signMsg() {\n    throw new Error('singMsg() not implemented');\n  }\n\n  shouldSkipSigning() {\n    return false;\n  }\n\n  onAccountChange(callback) {\n    this.events.on('accountChange', callback);\n  }\n\n  permissions() {\n    return [];\n  }\n\n  invoke(action, account) {\n    throw new Error('invoke not implemented');\n  }\n}\n\nmodule.exports = Signer;\n","module.exports.Asset = require('./Asset');\nmodule.exports.ERC20Asset = require('./ERC20Asset');\nmodule.exports.ERC777Asset = require('./ERC777Asset');\nmodule.exports.NativeAsset = require('./NativeAsset');\n\nmodule.exports.dai = require('./dai');\nmodule.exports.eth = require('./eth');\nmodule.exports.sai = require('./sai');\nmodule.exports.usdc = require('./usdc');\nmodule.exports.xdai = require('./xdai');\nmodule.exports.keth = require('./keth');\nmodule.exports.kdai = require('./kdai');\n","class EventEmitter {\n  constructor() {\n    this.listeners = {};\n  }\n\n  emit(event, data) {\n    if (this.listeners[event]) {\n      this.listeners[event].forEach(callback => callback(data));\n    }\n  }\n\n  on(event, callback) {\n    if (!this.listeners[event]) {\n      this.listeners[event] = [];\n    }\n    this.listeners[event].push(callback);\n  }\n}\n\nmodule.exports = EventEmitter;\n","class HistoryEvent {\n  constructor(props, assets) {\n    this.id = props.id || props.tx;\n    this.asset = props.asset;\n    this.receivingAsset = props.receivingAsset;\n    this.type = props.type;\n    this.value = props.value;\n    this.message = props.message || null;\n    this.from = props.from;\n    this.to = props.to;\n    this.tx = props.tx;\n    this.timestamp = props.timestamp;\n    this.override = props.override || false;\n    this.metadata = props.metadata;\n\n    this.assets = assets;\n  }\n\n  getAsset() {\n    const [asset] = this.assets.filter(_asset => _asset.id === this.asset);\n    return asset || null;\n  }\n\n  getReceivingAsset() {\n    if (!this.receivingAsset) {\n      return null;\n    }\n    const [asset] = this.assets.filter(_asset => _asset.id === this.receivingAsset);\n    return asset || null;\n  }\n\n  toJSON() {\n    const { assets, ...json } = this;\n    return json;\n  }\n\n  getDisplayValue() {\n    return this.getAsset().getDisplayValue(this.value);\n  }\n}\n\nmodule.exports = HistoryEvent;\n","module.exports = require('./BurnerCore');\n","const Gateway = require('./Gateway');\nconst Web3 = require('web3');\n\nclass InfuraGateway extends Gateway {\n  constructor(infuraKey) {\n    super();\n    this.available = !!infuraKey;\n    if (!infuraKey) {\n      console.warn('Warning: InfuraGateway created without API Key. Infura will be unavailable.');\n    }\n    this.providerStrings = {\n      '1': `wss://mainnet.infura.io/ws/v3/${infuraKey}`,\n      '3': `wss://ropsten.infura.io/ws/v3/${infuraKey}`,\n      '4': `wss://rinkeby.infura.io/ws/v3/${infuraKey}`,\n      '5': `wss://goerli.infura.io/ws/v3/${infuraKey}`,\n      '42': `wss://kovan.infura.io/ws/v3/${infuraKey}`,\n    }\n    this.providers = {};\n    this.stopping = false;\n  }\n\n  isAvailable() {\n    return this.available;\n  }\n\n  getNetworks() {\n    return ['1', '3', '4', '5', '42'];\n  }\n\n  _provider(network) {\n    if (!this.providers[network]) {\n      this._makeProvider(network);\n    }\n    return this.providers[network];\n  }\n\n  _makeProvider(network) {\n    if (!this.providerStrings[network]) {\n      throw new Error(`Network ${network} not supported by InfuraGateway`);\n    }\n\n    this.providers[network] = new Web3.providers.WebsocketProvider(this.providerStrings[network]);\n    this.providers[network].on('end', e => {\n      if (!this.stopping) {\n        console.log('WS closed. Attempting to reconnect...');\n        this._makeProvider(network);\n      }\n    });\n  }\n\n  send(network, payload) {\n    return new Promise((resolve, reject) => {\n      if (this.getNetworks().indexOf(network) === -1) {\n        return reject(new Error('Infura does not support this network'));\n      }\n      this._provider(network).send(payload, (err, response) => {\n        if (err || response.error) {\n          reject(err || response.error);\n        } else {\n          resolve(response.result);\n        }\n      })\n    });\n  }\n\n  stop() {\n    this.stopping = true;\n    Object.values(this.providers).forEach(provider => provider.disconnect());\n  }\n}\n\nmodule.exports = InfuraGateway;\n","const Web3 = require('web3');\nconst Signer = require('./Signer');\n\nconst arrayEquals = (a, b) => a.length === b.length && a.every((val, i) => val === b[i]);\n\nclass InjectedSigner extends Signer {\n  constructor({ autoEnable = false, provider = null }={}) {\n    super({ id: 'injected' });\n    this.accounts = [];\n    this._provider = provider;\n\n    const _provider = this.provider();\n    if (_provider) {\n      this.web3 = new Web3(_provider);\n      this.updateAccounts();\n\n      if (autoEnable && _provider.enable) {\n        this.enable();\n      }\n    }\n  }\n\n  isAvailable() {\n    return !!this.provider() && this.accounts.length > 0;\n  }\n\n  async signTx(tx) {\n    const signedTransaction = await this.web3.eth.signTransaction(tx);\n    return { ...tx, signedTransaction };\n  }\n\n  signMsg(msg, account) {\n    return this.web3.eth.sign(msg, account);\n  }\n\n  shouldSkipSigning(network) {\n    const isMetaMask = !!this.provider().isMetaMask;\n    if (isMetaMask && network !== this.provider().networkVersion) {\n      throw new Error('Metamask is connected to the wrong network');\n    }\n\n    return isMetaMask;\n  }\n\n  permissions() {\n    const canEnable = this.accounts.length === 0 && (this.provider() || {}).enable;\n    return canEnable ? ['enable'] : [];\n  }\n\n  invoke(action, account, ...params) {\n    switch (action) {\n      case 'enable':\n        return this.enable();\n      default:\n        throw new Error(`Unknown action ${action}`);\n    }\n  }\n\n  async enable() {\n    await this.provider().enable();\n    await this.updateAccounts();\n  }\n\n  async updateAccounts() {\n    const accounts = await this.web3.eth.getAccounts();\n\n    if (!arrayEquals(accounts, this.accounts)) {\n      this.accounts = accounts;\n      this.events.emit('accountChange');\n    }\n  }\n\n  provider() {\n    return this._provider || window.ethereum || (window.web3 && window.web3.currentProvider);\n  }\n}\n\nmodule.exports = InjectedSigner;\n","const Web3 = require('web3');\nconst { toBN } = require('web3-utils');\nconst cookies = require('../lib/cookies');\nconst Signer = require('./Signer');\n\nclass LocalSigner extends Signer {\n  constructor({ privateKey, saveKey=true, gasMultiplier=1 } = {}) {\n    super({ id: 'local' });\n    this._saveKey = saveKey;\n    this.gasMultiplier = gasMultiplier;\n\n    if (this._isValidPK(privateKey)) {\n      this._generateAccountFromPK(privateKey);\n    } else {\n      this._loadOrGenerateAccount();\n    }\n  }\n\n  getAccounts() {\n    return [this.account.address];\n  }\n\n  async signTx(tx) {\n    const _tx = {\n      ...tx,\n\n      // Workaround for https://github.com/ethereumjs/ethereumjs-tx/pull/195\n      common: {\n        customChain: {\n          chainId: tx.chainId,\n          networkId: tx.chainId,\n        },\n        hardfork: 'istanbul',\n      },\n    };\n\n    if (this.gasMultiplier !== 1) {\n      const multiplier = Math.floor(this.gasMultiplier * 1000).toString();\n      _tx.gas = toBN(tx.gas).mul(toBN(multiplier)).div(toBN('1000'));\n    }\n\n    const { rawTransaction } = await this.account.signTransaction(_tx);\n    _tx.signedTransaction = rawTransaction;\n\n    return _tx;\n  }\n\n  async signMsg(msg) {\n    return this.account.sign(msg).signature;\n  }\n\n  permissions() {\n    return ['readKey', 'writeKey', 'burn', 'keyToAddress'];\n  }\n\n  invoke(action, account, ...params) {\n    if (!this.hasAccount(account)) {\n      throw new Error('Can not call invoke, incorrect account');\n    }\n\n    switch (action) {\n      case 'readKey':\n        return this.account.privateKey;\n      case 'writeKey':\n        const [newPK] = params;\n        this._generateAccountFromPK(newPK);\n        return this.account.address;\n      case 'burn':\n        this._generateNewAccount();\n        return this.account.address;\n      case 'keyToAddress':\n        const [pk] = params;\n        const { address } = (new Web3()).eth.accounts.privateKeyToAccount(pk);\n        return address;\n      default:\n        throw new Error(`Unknown action ${action}`);\n    }\n  }\n\n  _isValidPK(pk) {\n    return !!pk && parseInt(pk) > 0;\n  }\n\n  _loadOrGenerateAccount() {\n    const pk = (window.localStorage && localStorage.getItem('metaPrivateKey'))\n      || cookies.getCookie('metaPrivateKey');\n    if (this._isValidPK(pk)) {\n      this._generateAccountFromPK(pk);\n    } else {\n      this._generateNewAccount();\n    }\n  }\n\n  _generateAccountFromPK(privateKey) {\n    this.account = (new Web3()).eth.accounts.privateKeyToAccount(privateKey);\n    this._saveAccount();\n    this.events.emit('accountChange');\n  }\n\n  _generateNewAccount() {\n    this.account = (new Web3()).eth.accounts.create();\n    this._saveAccount();\n    this.events.emit('accountChange');\n  }\n\n  _saveAccount() {\n    if (!this._saveKey) {\n      return;\n    }\n\n    const { privateKey } = this.account;\n    if (!privateKey || !/^0x[0-9a-fA-F]{64}$/.test(privateKey)) {\n      throw new Error(`Invalid Private Key \"${privateKey}\"`);\n    }\n\n    if (window.localStorage) {\n      localStorage.setItem('metaPrivateKey', this.account.privateKey);\n    }\n    cookies.setCookie('metaPrivateKey', this.account.privateKey);\n  }\n}\n\nmodule.exports = LocalSigner;\n","module.exports = __webpack_public_path__ + \"static/media/home.daa6752a.png\";","module.exports = __webpack_public_path__ + \"static/media/send.03b6c6a1.png\";","module.exports = __webpack_public_path__ + \"static/media/withdraw.f163fdda.png\";","require('isomorphic-fetch');\n\nconst assets = {};\n\nlet cacheExpiration = 10 * 1000;\n\nclass AssetPrice {\n  constructor(symbol) {\n    this.symbol = symbol;\n    this.lastFetch = 0;\n    this.lastPrice = null;\n  }\n\n  async getPrice() {\n    if (Date.now() - this.lastFetch < cacheExpiration) {\n      return this.lastPrice;\n    }\n    const price = this.fetchPrice();\n    this.lastPrice = price;\n    this.lastFetch = Date.now();\n    return price;\n  }\n\n  async fetchPrice() {\n    const symbol = this.symbol.toUpperCase();\n    const url = `https://min-api.cryptocompare.com/data/price?fsym=${symbol}&tsyms=USD`;\n    const result = await fetch(url);\n    const data = await result.json();\n    return data.USD;\n  }\n}\n\nmodule.exports.getPrice = async function getPrice(symbol) {\n  if (!assets[symbol]) {\n    assets[symbol] = new AssetPrice(symbol);\n  }\n  return assets[symbol].getPrice();\n}\n","const { toBN } = require('web3-utils');\n\nfunction toDecimal(weiInput, decimals) {\n  const wei = toBN(weiInput.toString());\n  const base = toBN('10').pow(toBN(decimals.toString()));\n  const baseLength = base.toString().length - 1 || 1;\n\n  let fraction = wei.mod(base).toString(10);\n\n  while (fraction.length < baseLength) {\n    fraction = `0${fraction}`;\n  }\n  fraction = fraction.match(/^([0-9]*[1-9]|0)(0*)/)[1]\n\n  const whole = wei.div(base).toString(10);\n  const value = `${whole}${fraction == '0' ? '' : `.${fraction}`}`;\n  return value;\n}\n\nmodule.exports.toDecimal = toDecimal;\n","const ERC20Asset = require('./ERC20Asset');\nconst IERC777abi = require('./abi/IERC777.json');\nconst canRelay = require('./utils/canRelay');\n\nconst BLOCK_LOOKBACK = 250;\n\nclass ERC777Asset extends ERC20Asset {\n  constructor({ abi=IERC777abi, gasless=false, ...params }) {\n    super({ ...params, type: 'erc777' });\n    this.abi = abi;\n    this.gasless = gasless;\n    this._gaslessContract = null;\n  }\n\n  supportsMessages() {\n    return true;\n  }\n\n  getGaslessContract() {\n    if (!this._gaslessContract) {\n      const Contract = this.getWeb3({ gasless: true }).eth.Contract;\n      this._gaslessContract = new Contract(this.abi, this.address);\n    }\n    return this._gaslessContract;\n  }\n\n  async getTx(txHash) {\n    const events = await this._getEventsFromTx(txHash);\n    const [transferEvent] = events.filter(event => event.event === 'Sent');\n    if (!transferEvent) {\n      return null;\n    }\n\n    return {\n      asset: this.id,\n      assetName: this.name,\n      from: transferEvent.returnValues.from,\n      to: transferEvent.returnValues.to,\n      value: transferEvent.returnValues.amount.toString(),\n      displayValue: this.getDisplayValue(transferEvent.returnValues.amount.toString()),\n      message: transferEvent.returnValues.data\n        ? this.getWeb3().utils.toUtf8(transferEvent.returnValues.data)\n        : null,\n      timestamp: await this._getBlockTimestamp(transferEvent.blockNumber),\n    };\n  }\n\n  startWatchingAddress(address) {\n    let running = true;\n\n    let block = 0;\n    return this.poll(async () => {\n      const currentBlock = await this.getWeb3().eth.getBlockNumber();\n      if (block === 0) {\n        block = currentBlock - BLOCK_LOOKBACK;\n      }\n\n      const events = await this.getContract().getPastEvents('Sent', {\n        filter: { to: address },\n        fromBlock: block,\n        toBlock: currentBlock,\n      });\n      await events.map(async (event) => this.core.addHistoryEvent({\n        id: `${event.transactionHash}-${event.logIndex}`,\n        asset: this.id,\n        type: 'send',\n        value: event.returnValues.amount.toString(),\n        from: event.returnValues.from,\n        to: event.returnValues.to,\n        message: event.returnValues.data\n          ? this.getWeb3().utils.toUtf8(event.returnValues.data)\n          : null,\n        tx: event.transactionHash,\n        timestamp: await this._getBlockTimestamp(event.blockNumber),\n      }));\n\n      block = currentBlock;\n    }, this._pollInterval);\n  }\n\n  async _send({ from, to, value, message }) {\n    const web3 = this.getWeb3();\n    const messageHex = message ? this.getWeb3().utils.fromUtf8(message) : '0x';\n    const gasless = this.gasless && await canRelay(web3, this.address, from);\n    const contract = gasless ? this.getGaslessContract() : this.getContract();\n    const receipt = await contract.methods.send(to, value, messageHex).send({ from });\n    return {\n      ...receipt,\n      txHash: receipt.transactionHash,\n      id: `${receipt.transactionHash}-${receipt.events.Sent.logIndex}`,\n    };\n  }\n}\n\nmodule.exports = ERC777Asset;\n","const abi = require('../abi/IRelayRecipient.json');\n\nconst ZERO_ADDRESS = '0x0000000000000000000000000000000000000000';\nconst SAMPLE_DATA = '0x9bd9bbc600000000000000000000000095065dda67b45188a131674ad9dc0bf075238de2000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000000';\n\nmodule.exports = async function canRelay(web3, contractAddress, fromAddress) {\n  const contract = new web3.eth.Contract(abi, contractAddress);\n\n  try {\n    const response = await contract.methods\n      .acceptRelayedCall(ZERO_ADDRESS, fromAddress, SAMPLE_DATA, '12', '5000000', '1100000000', '0', '0x0', '0')\n      .call();\n    return response['0'] === '0';\n  } catch (e) {\n    return false;\n  }\n}\n","const ERC20Asset = require('./ERC20Asset');\n\nmodule.exports = new ERC20Asset({\n  id: 'dai',\n  name: 'Dai',\n  network: '1',\n  address: '0x6b175474e89094c44da98b954eedeac495271d0f',\n  usdPrice: 1,\n  icon: 'https://static.burnerfactory.com/icons/mcd.svg',\n  pollInterval: 60 * 60 * 1000, // 60 minutes\n});\n","const NativeAsset = require('./NativeAsset');\n\nmodule.exports = new NativeAsset({\n  id: 'eth',\n  name: 'ETH',\n  network: '1',\n  priceSymbol: 'ETH',\n  icon: 'https://static.burnerfactory.com/icons/eth.svg',\n  pollInterval: 60 * 60 * 1000, // 60 minutes\n});\n","const ERC20Asset = require('./ERC20Asset');\n\nmodule.exports = new ERC20Asset({\n  id: 'sai',\n  name: 'Sai',\n  network: '1',\n  address: '0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359',\n  usdPrice: 1,\n  icon: 'https://static.burnerfactory.com/icons/dai.svg',\n});\n","const ERC20Asset = require('./ERC20Asset');\n\nmodule.exports = new ERC20Asset({\n  id: 'usdc',\n  name: 'USDC',\n  network: '1',\n  address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n  usdPrice: 1,\n  icon: 'https://static.burnerfactory.com/icons/usdc.svg',\n  decimals: 6,\n});\n","const NativeAsset = require('./NativeAsset');\nconst IXDaiBridge = require('./abi/IXDaiBridge.json');\n\nclass XDaiNativeAsset extends NativeAsset {\n  constructor(props) {\n    super(props);\n    this.bridgeAddress = '0x7301cfa0e1756b71869e93d4e4dca5c7d0eb0aa6';\n  }\n\n  async scanBlocks(address, fromBlock, toBlock) {\n    await super.scanBlocks(address, fromBlock, toBlock);\n\n    const web3 = this.getWeb3();\n    const contract = new web3.eth.Contract(IXDaiBridge, this.bridgeAddress);\n    const events = await contract.getPastEvents('AffirmationCompleted', {\n      fromBlock,\n      toBlock\n    });\n    const filteredEvents = events.filter(event => event.returnValues.recipient.toLowerCase() === address.toLowerCase());\n\n    for (const event of filteredEvents) {\n      this.core.addHistoryEvent({\n        id: `${event.transactionHash}-${event.logIndex}`,\n        asset: this.id,\n        type: 'send',\n        value: event.returnValues.value.toString(),\n        from: this.bridgeAddress,\n        to: event.returnValues.recipient,\n        tx: event.transactionHash,\n        timestamp: await this._getBlockTimestamp(event.blockNumber)\n      });\n    }\n  }\n\n  async getTx(txHash) {\n    const historyEvents = this.core.getHistoryEvents({asset: this.id, account: this.bridgeAddress})\n    const eventMatch = historyEvents.filter(e => e.tx === txHash)\n    if (eventMatch.length > 0) {\n      return eventMatch[0];\n    } else {\n      return super.getTx(txHash);\n    }\n  }\n}\n\nmodule.exports = new XDaiNativeAsset({\n  id: 'xdai',\n  name: 'xDai',\n  network: '100',\n  usdPrice: 1,\n  icon: 'https://static.burnerfactory.com/icons/xdai.svg',\n});\n","const NativeAsset = require('./NativeAsset');\n\nmodule.exports = new NativeAsset({\n  id: 'keth',\n  name: 'kETH',\n  network: '42',\n});\n","const ERC20Asset = require('./ERC20Asset');\n\nmodule.exports = new ERC20Asset({\n  id: 'kdai',\n  name: 'kDai',\n  network: '42',\n  address: '0xc4375b7de8af5a38a93548eb8453a498222c4ff2',\n});\n","const Web3 = require('web3');\nconst tabookey = require('@dmihal/tabookey-gasless');\nconst ProxyProvider = require('./ProxyProvider');\nconst EventEmitter = require('./lib/EventEmitter');\nconst History = require('./History');\nconst HistoryEvent = require('./HistoryEvent');\nconst TempSigner = require('./signers/TempSigner');\n\nclass BurnerCore {\n  constructor({\n    signers=[],\n    gateways=[],\n    assets=[],\n    historyOptions={},\n    gsnGasLimit=5000000,\n    gsnGasPrice=1100000000\n  }) {\n    if (gateways.length === 0) {\n      throw new Error('Must include at least 1 gateway')\n    }\n\n    this.providers = {};\n    this.web3 = {};\n\n    this.gsnGasPrice = gsnGasPrice;\n    this.gsnGasLimit = gsnGasLimit;\n\n    this.events = new EventEmitter();\n    this.history = new History({ assets, ...historyOptions });\n\n    this.gateways = gateways;\n    this.gateways.forEach(gateway => gateway.setCore(this));\n    this.assets = assets;\n    this.assets.forEach(asset => {\n      asset.setCore(this);\n      asset.start && asset.start();\n    });\n\n    this.signers = signers;\n    this.signers.push(new TempSigner);\n\n    this.unsubscribesBySigner = {};\n    this.signers.forEach((signer, index) => {\n      signer.setCore(this);\n\n      this.unsubscribesBySigner[index] = this.watchAccounts(signer.getAccounts());\n\n      signer.onAccountChange(() => {\n        this.unsubscribesBySigner[index].forEach(unsubscribe => unsubscribe());\n        this.unsubscribesBySigner[index] = this.watchAccounts(signer.getAccounts());\n        this.events.emit('accountChange');\n      });\n    });\n  }\n\n  watchAccounts(accounts) {\n    const unsubscribes = []\n    for (const account of accounts) {\n      for (const asset of this.assets) {\n        const unsubscribe = asset.startWatchingAddress(account);\n        unsubscribes.push(unsubscribe);\n      }\n    }\n    return unsubscribes;\n  }\n\n  onAccountChange(callback) {\n    this.events.on('accountChange', () => callback(this.getAccounts()));\n  }\n\n  getAssets() {\n    return this.assets;\n  }\n\n  getAccounts() {\n    const availableSigners = this.signers.filter(signer => signer.isAvailable());\n    return [].concat.apply([], availableSigners.map(signer => signer.getAccounts()));\n  }\n\n  async signTx(txParams) {\n    for (const signer of this.signers) {\n      if (signer.isAvailable() && signer.hasAccount(txParams.from)) {\n        const signed = await signer.signTx(txParams);\n        return signed;\n      }\n    }\n    throw new Error('Unable to find an appropriate signer');\n  }\n\n  async signMsg(msg, account) {\n    for (const signer of this.signers) {\n      if (signer.isAvailable() && signer.hasAccount(account)) {\n        const signed = await signer.signMsg(msg, account);\n        return signed;\n      }\n    }\n    throw new Error('Unable to find an appropriate signer');\n  }\n\n  shouldSkipSigning(network, txParams) {\n    for (const signer of this.signers) {\n      if (signer.isAvailable() && signer.hasAccount(txParams.from)) {\n        return signer.shouldSkipSigning(network);\n      }\n    }\n    throw new Error('Unable to find an appropriate signer');\n  }\n\n  async handleRequest(network, payload) {\n    for (const gateway of this.gateways) {\n      if (gateway.isAvailable() && gateway.getNetworks().indexOf(network) !== -1) {\n        const response = payload.method === 'eth_sendRawTransaction'\n            && payload.params[0].signedTransaction\n          ? await gateway.sendTx(network, payload)\n          : await gateway.send(network, payload);\n        return response;\n      }\n    }\n    throw new Error(`Could not find gateway for network ${network}`);\n  }\n\n  getProvider(network, options={}) {\n    const cacheKey = options.gasless ? `${network}-gasless` : network;\n    if (this.providers[cacheKey]) {\n      return this.providers[cacheKey];\n    }\n\n    let provider = new ProxyProvider(network, this);\n\n    if (options.gasless) {\n      provider = new tabookey.RelayProvider(provider, {\n        txfee: 70,\n        force_gasLimit: this.gsnGasLimit,\n        force_gasPrice: this.gsnGasPrice,\n      });\n    }\n\n    this.providers[cacheKey] = provider;\n    return provider;\n  }\n\n  getWeb3(network, options={}) {\n    const cacheKey = options.gasless ? `${network}-gasless` : network;\n    if (this.web3[cacheKey]) {\n      return this.web3[cacheKey];\n    }\n\n    this.web3[cacheKey] = new Web3(this.getProvider(network, options));\n    return this.web3[cacheKey];\n  }\n\n  canCallSigner(action, account) {\n    for (const signer of this.signers) {\n      if (account === signer.id || (signer.isAvailable() && signer.hasAccount(account))) {\n        return signer.permissions().indexOf(action) !== -1;\n      }\n    }\n    return false;\n  }\n\n  callSigner(action, account, ...params) {\n    for (const signer of this.signers) {\n      if (signer.isAvailable() && signer.hasAccount(account)) {\n        return signer.invoke(action, account, ...params);\n      }\n      if (account === signer.id) {\n        return signer.invoke(action, ...params);\n      }\n    }\n    throw new Error(`Unable to find signer for ${account}`);\n  }\n\n\n  addHistoryEvent(eventProps) {\n    const event = new HistoryEvent(eventProps, this.assets);\n    this.history.addEvent(event);\n  }\n\n  getHistoryEvents(options) {\n    return this.history.getEvents(options);\n  }\n\n  onHistoryEvent(listener) {\n    this.history.onEvent(listener);\n  }\n\n  removeHistoryEventListener(listener) {\n    this.history.removeListener(listener);\n  }\n\n  stop() {\n    Object.values(this.providers).forEach(provider => provider.stop());\n    Object.values(this.gateways).forEach(gateway => gateway.stop());\n    this.assets.forEach(asset => asset.stop && asset.stop());\n  }\n}\n\nmodule.exports = BurnerCore;\n","const Asset = require('./Asset');\nconst IERC20abi = require('./abi/IERC20.json');\n\nconst BLOCK_LOOKBACK = 250;\nconst POLL_INTERVAL = 2500;\n\nclass ERC20Asset extends Asset {\n  constructor({ address, abi=IERC20abi, pollInterval=POLL_INTERVAL, type='erc20', ...params }) {\n    super({ ...params, type });\n    this.address = address;\n    this.abi = abi;\n    this._pollInterval = pollInterval;\n    this._contract = null;\n  }\n\n  async getBalance(account) {\n    const balance = await this.getContract().methods.balanceOf(account).call();\n    return balance.toString();\n  }\n\n  getContract() {\n    if (!this._contract) {\n      const Contract = this.getWeb3().eth.Contract;\n      this._contract = new Contract(this.abi, this.address);\n    }\n    return this._contract;\n  }\n\n  allowance(from, to) {\n    return this.getContract().methods.allowance(from, to).call();\n  }\n\n  approve(from, to, value) {\n    return this.getContract().methods.approve(to, value).send({ from });\n  }\n\n  async getTx(txHash) {\n    const events = await this._getEventsFromTx(txHash);\n    const [transferEvent] = events.filter(event => event.event === 'Transfer');\n    if (!transferEvent) {\n      return null;\n    }\n\n    return {\n      asset: this.id,\n      assetName: this.name,\n      from: transferEvent.returnValues.from,\n      to: transferEvent.returnValues.to,\n      value: transferEvent.returnValues.value.toString(),\n      displayValue: this.getDisplayValue(transferEvent.returnValues.value.toString()),\n      message: null,\n      timestamp: await this._getBlockTimestamp(transferEvent.blockNumber),\n    };\n  }\n\n  startWatchingAddress(address) {\n    let block = 0;\n    return this.poll(async () => {\n      const currentBlock = await this.getWeb3().eth.getBlockNumber();\n      if (block === 0) {\n        block = Math.max(currentBlock - BLOCK_LOOKBACK, 0);\n      }\n\n      const events = await this.getContract().getPastEvents('Transfer', {\n        filter: { to: address },\n        fromBlock: block,\n        toBlock: currentBlock,\n      });\n      await events.map(async (event) => this.core.addHistoryEvent({\n        id: `${event.transactionHash}-${event.logIndex}`,\n        asset: this.id,\n        type: 'send',\n        value: event.returnValues.value.toString(),\n        from: event.returnValues.from,\n        to: event.returnValues.to,\n        tx: event.transactionHash,\n        timestamp: await this._getBlockTimestamp(event.blockNumber),\n      }));\n\n      block = currentBlock;\n    }, this._pollInterval);\n  }\n\n\n  async _getEventsFromTx(txHash) {\n    const web3 = this.getWeb3();\n    const receipt = await web3.eth.getTransactionReceipt(txHash);\n    if (!receipt) {\n      return [];\n    }\n    const events = await this.getContract().getPastEvents('allEvents', {\n      fromBlock: receipt.blockNumber,\n      toBlock: receipt.blockNumber,\n    });\n    return events.filter(event => event.transactionHash === txHash);\n  }\n\n  async _send({ from, to, value }) {\n    const receipt = await this.getContract().methods.transfer(to, value).send({ from });\n    return {\n      ...receipt,\n      txHash: receipt.transactionHash,\n      id: `${receipt.transactionHash}-${receipt.events.Transfer.logIndex}`,\n    };\n  }\n}\n\nmodule.exports = ERC20Asset;\n","const ProviderEngine = require(\"web3-provider-engine\");\nconst FiltersSubprovider = require(\"web3-provider-engine/subproviders/filters.js\");\nconst NonceSubProvider = require(\"web3-provider-engine/subproviders/nonce-tracker.js\");\nconst HookedSubprovider = require(\"web3-provider-engine/subproviders/hooked-wallet.js\");\nconst ProviderSubprovider = require(\"web3-provider-engine/subproviders/provider.js\");\n\nconst pollIntervalMs = 60 * 60 * 1000; // 60 minutes\n\nclass ProxyProvider {\n  constructor(network, core) {\n    this.network = network;\n    this.core = core;\n\n    this.engine = new ProviderEngine({ pollingInterval: pollIntervalMs });\n\n    this.engine.addProvider({\n      async handleRequest(payload, next, end) {\n        try {\n          if (payload.method === 'eth_sendTransaction'\n              && core.shouldSkipSigning(network, payload.params[0])) {\n            const result = await core.handleRequest(network, payload);\n            end(null, result);\n          } else {\n            next();\n          }\n        } catch (err) {\n          end(err);\n        }\n      },\n      setEngine() {},\n    });\n\n    this.engine.addProvider(\n      new HookedSubprovider({\n        async getAccounts(cb) {\n          try {\n            cb(null, await core.getAccounts());\n          } catch (err) {\n            cb(err)\n          }\n        },\n        signTransaction(txParams, cb) {\n          txParams.chainId = +network;\n          core.signTx(txParams)\n            .then(signedTx => cb(null, signedTx))\n            .catch(err => cb(err));\n        },\n        signMessage({ data, from }, cb) {\n          core.signMsg(data, from)\n            .then(signature => cb(null, signature))\n            .catch(err => cb(err));\n        },\n        signPersonalMessage({ data, from }, cb) {\n          core.signMsg(data, from)\n            .then(signature => cb(null, signature))\n            .catch(err => cb(err));\n        }\n      })\n    );\n\n    //this.engine.addProvider(new GaspriceProvider());\n    this.engine.addProvider(new NonceSubProvider());\n    this.engine.addProvider(new FiltersSubprovider());\n\n    this.engine.addProvider({\n      handleRequest(payload, next, end) {\n        // Workaround for https://github.com/MetaMask/eth-block-tracker/pull/42\n        let fakeId = false;\n        if (payload.id === 1) {\n          payload.id = Math.floor(Math.random() * 10000000000);\n          fakeId = 1;\n        }\n\n        core.handleRequest(network, payload)\n          .then(result => {\n            try {\n              if (payload.method === 'eth_sendRawTransaction' && payload.params[0].signedTransaction) {\n                payload.params = [payload.params[0].signedTransaction];\n              }\n\n              end(null, result);\n            } catch (err) {\n              if (err.message !== 'Could not find block') {\n                throw err;\n              }\n            }\n          })\n          .catch(err => end(err));\n      },\n      setEngine() {},\n    });\n\n    this.engine.start();\n  }\n\n  stop() {\n    this.engine.stop();\n  }\n\n  sendAsync(...args) {\n    this.engine.sendAsync.apply(this.engine, args);\n  }\n\n  send(...args) {\n    return this.engine.send.apply(this.engine, args);\n  }\n}\n\nmodule.exports = ProxyProvider;\n","const HistoryEvent = require('./HistoryEvent');\n\nconst STORAGE_KEY = 'burner-history';\n\nclass History {\n  constructor({ storeHistory=true, assets=[] }={}) {\n    this.events = [];\n    this.eventsByTx = {};\n    this.eventsById = {};\n    this.assets = assets;\n    this.eventListeners = [];\n    this.storeHistory = storeHistory;\n    if (storeHistory) {\n      this.readStoredEvents();\n    }\n  }\n\n  onEvent(callback) {\n    this.eventListeners.push(callback);\n  }\n\n  removeListener(callback) {\n    this.eventListeners.splice(this.eventListeners.indexOf(callback), 1);\n  }\n\n  addEvent(event) {\n    if (this.eventsById[event.id]) {\n      console.warn(`[History] Tried to add event with duplicate ID ${event.id}. Ignoring.`);\n      return;\n    }\n    if (this.eventsByTx[event.tx]) {\n      if (event.override) {\n        this.events = this.events.filter(event => event.tx !== event.tx);\n      } else {\n        console.warn(`[History] Duplicate event with TX hash ${event.tx}. Ignoring.`);\n        return;\n      }\n    }\n\n    this.events.push(event);\n    this.eventsById[event.id] = event;\n    this.eventsByTx[event.tx] = event;\n    this.eventListeners.forEach(callback => callback(event));\n    this.storeEvents();\n  }\n\n  getEvents(options={}) {\n    let assets;\n    if (options.assets) {\n      assets = options.assets;\n    } else if (options.asset) {\n      assets = [options.asset];\n    }\n\n    const filter = event => {\n      const assetMatch = !assets || assets.indexOf(event.asset) !== -1;\n      const typeMatch = !options.type || event.type === options.type;\n      const accountMatch = !options.account\n        || options.account.toLowerCase() === event.to.toLowerCase()\n        || options.account.toLowerCase() === event.from.toLowerCase();\n\n      return assetMatch && typeMatch && accountMatch;\n    }\n\n    return this.events.filter(filter).sort((e1, e2) => e2.timestamp - e1.timestamp);\n  }\n\n  storeEvents() {\n    if (this.storeHistory) {\n      window.localStorage.setItem(STORAGE_KEY, JSON.stringify(this.events));\n    }\n  }\n\n  readStoredEvents() {\n    if (window.localStorage.getItem(STORAGE_KEY)) {\n      const storedEventObjs = JSON.parse(window.localStorage.getItem(STORAGE_KEY));\n      this.events = [\n        ...this.events,\n        ...storedEventObjs.map(event => new HistoryEvent(event, this.assets)),\n      ];\n      this.events.forEach(event => {\n        this.eventsById[event.id] = event;\n      });\n    }\n  }\n}\n\nmodule.exports = History;\n","const Web3 = require('web3');\nconst { toBN } = require('web3-utils');\nconst Signer = require('./Signer');\n\nclass TempSigner extends Signer {\n  constructor() {\n    super({ id: 'temp' });\n    this.account = null;\n  }\n\n  getAccounts() {\n    return this.account ? [this.account.address] : [];\n  }\n\n  isAvailable() {\n    return !!this.account;\n  }\n\n  async signTx(tx) {\n    const _tx = {\n      ...tx,\n\n      // Workaround for https://github.com/ethereumjs/ethereumjs-tx/pull/195\n      common: {\n        customChain: {\n          chainId: tx.chainId,\n          networkId: tx.chainId,\n        },\n        hardfork: 'istanbul',\n      },\n    };\n\n    const { rawTransaction } = await this.account.signTransaction(_tx);\n    _tx.signedTransaction = rawTransaction;\n\n    return _tx;\n  }\n\n  async signMsg(msg) {\n    return this.account.sign(msg).signature;\n  }\n\n  permissions() {\n    return ['enable', 'disable'];\n  }\n\n  invoke(action, newPK) {\n    switch (action) {\n      case 'disable':\n        this.account = null;\n        this.events.emit('accountChange');\n        return;\n      case 'enable':\n        this._generateAccountFromPK(newPK);\n        return this.account.address;\n      case 'getAddress':\n        return this.account && this.account.address;\n      default:\n        throw new Error(`Unknown action ${action}`);\n    }\n  }\n\n  _generateAccountFromPK(privateKey) {\n    this.account = (new Web3()).eth.accounts.privateKeyToAccount(privateKey);\n    this.events.emit('accountChange');\n  }\n}\n\nmodule.exports = TempSigner;\n","class Gateway {\n  constructor(networks = []) {\n    this.networks = networks;\n    this.core = null;\n  }\n\n  setCore(core) {\n    this.core = core;\n  }\n\n  isAvailable() {\n    return false;\n  }\n\n  getNetworks() {\n    return this.networks;\n  }\n\n  sendTx(network, payload) {\n    return this.send(network, {\n      ...payload,\n      params: [payload.params[0].signedTransaction],\n    });\n  }\n\n  send(network, payload) {\n    throw new Error('send() not implemented');\n  }\n\n  stop() {}\n}\n\nmodule.exports = Gateway;\n","// From https://stackoverflow.com/a/19189846/562947\n\nmodule.exports.getCookie = function getCookie(key) {\n    const cookies = document.cookie.split(';');\n    for(const cookie of cookies)\n    {\n        const oPair = cookie.split('=');\n        const sKey = decodeURIComponent(oPair[0].trim().toLowerCase());\n        const sValue = oPair.length > 1 ? oPair[1] : '';\n        if(sKey == key.toLowerCase()) {\n            return decodeURIComponent(sValue);\n        }\n    }\n    return '';\n}\n\nmodule.exports.setCookie = function setCookie(sName, sValue) {\n    const oDate = new Date();\n    oDate.setYear(oDate.getFullYear() + 1);\n    const sCookie = encodeURIComponent(sName) + '=' + encodeURIComponent(sValue)\n        + ';expires=' + oDate.toGMTString() + ';path=/';\n    document.cookie= sCookie;\n}\n\nmodule.exports.clearCookie = function clearCookie(sName) {\n    this.setCookie(sName,'');\n}\n","/** @format */\n\nconst colors = {\n  green: \"#72A603\",\n  lightGreen: \"#BED95F\",\n  darkGreen: \"#467302\",\n  yellowGreen: \"#EAF2AE\",\n  lightGray: \"#F2F2F2\",\n  mediumGray: \"#97A69C\",\n  darkGray: \"#4C594F\",\n};\n\nexport default colors;\n","/** @format */\n\nimport React from \"react\";\n\nexport default function Ellipsis({ size }: { size?: number }) {\n  return (\n    <svg\n      style={{\n        margin: \"auto\",\n        display: \"block\",\n        shapeRendering: \"auto\",\n      }}\n      width={`${size || 50}px`}\n      height={`${size || 50}px`}\n      viewBox=\"0 0 100 100\"\n      preserveAspectRatio=\"xMidYMid\"\n    >\n      <circle cx=\"84\" cy=\"50\" r=\"3.67053\" fill=\"#d4ecc9\">\n        <animate\n          attributeName=\"r\"\n          repeatCount=\"indefinite\"\n          dur=\"0.641025641025641s\"\n          calcMode=\"spline\"\n          keyTimes=\"0;1\"\n          values=\"10;0\"\n          keySplines=\"0 0.5 0.5 1\"\n          begin=\"0s\"\n        ></animate>\n        <animate\n          attributeName=\"fill\"\n          repeatCount=\"indefinite\"\n          dur=\"2.564102564102564s\"\n          calcMode=\"discrete\"\n          keyTimes=\"0;0.25;0.5;0.75;1\"\n          values=\"#d4ecc9;#c3d582;#75b34c;#a2d895;#d4ecc9\"\n          begin=\"0s\"\n        ></animate>\n      </circle>\n      <circle cx=\"16\" cy=\"50\" r=\"6.3291\" fill=\"#d4ecc9\">\n        <animate\n          attributeName=\"r\"\n          repeatCount=\"indefinite\"\n          dur=\"2.564102564102564s\"\n          calcMode=\"spline\"\n          keyTimes=\"0;0.25;0.5;0.75;1\"\n          values=\"0;0;10;10;10\"\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n          begin=\"0s\"\n        ></animate>\n        <animate\n          attributeName=\"cx\"\n          repeatCount=\"indefinite\"\n          dur=\"2.564102564102564s\"\n          calcMode=\"spline\"\n          keyTimes=\"0;0.25;0.5;0.75;1\"\n          values=\"16;16;16;50;84\"\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n          begin=\"0s\"\n        ></animate>\n      </circle>\n      <circle cx=\"37.5189\" cy=\"50\" r=\"10\" fill=\"#BED95F\">\n        <animate\n          attributeName=\"r\"\n          repeatCount=\"indefinite\"\n          dur=\"2.564102564102564s\"\n          calcMode=\"spline\"\n          keyTimes=\"0;0.25;0.5;0.75;1\"\n          values=\"0;0;10;10;10\"\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n          begin=\"-0.641025641025641s\"\n        ></animate>\n        <animate\n          attributeName=\"cx\"\n          repeatCount=\"indefinite\"\n          dur=\"2.564102564102564s\"\n          calcMode=\"spline\"\n          keyTimes=\"0;0.25;0.5;0.75;1\"\n          values=\"16;16;16;50;84\"\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n          begin=\"-0.641025641025641s\"\n        ></animate>\n      </circle>\n      <circle cx=\"71.519\" cy=\"50\" r=\"10\" fill=\"#72A603\">\n        <animate\n          attributeName=\"r\"\n          repeatCount=\"indefinite\"\n          dur=\"2.564102564102564s\"\n          calcMode=\"spline\"\n          keyTimes=\"0;0.25;0.5;0.75;1\"\n          values=\"0;0;10;10;10\"\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n          begin=\"-1.282051282051282s\"\n        ></animate>\n        <animate\n          attributeName=\"cx\"\n          repeatCount=\"indefinite\"\n          dur=\"2.564102564102564s\"\n          calcMode=\"spline\"\n          keyTimes=\"0;0.25;0.5;0.75;1\"\n          values=\"16;16;16;50;84\"\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n          begin=\"-1.282051282051282s\"\n        ></animate>\n      </circle>\n      <circle cx=\"16\" cy=\"50\" r=\"0\" fill=\"#EAF2AE\">\n        <animate\n          attributeName=\"r\"\n          repeatCount=\"indefinite\"\n          dur=\"2.564102564102564s\"\n          calcMode=\"spline\"\n          keyTimes=\"0;0.25;0.5;0.75;1\"\n          values=\"0;0;10;10;10\"\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n          begin=\"-1.923076923076923s\"\n        ></animate>\n        <animate\n          attributeName=\"cx\"\n          repeatCount=\"indefinite\"\n          dur=\"2.564102564102564s\"\n          calcMode=\"spline\"\n          keyTimes=\"0;0.25;0.5;0.75;1\"\n          values=\"16;16;16;50;84\"\n          keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n          begin=\"-1.923076923076923s\"\n        ></animate>\n      </circle>\n    </svg>\n  );\n}\n","/** @format */\n\nimport React from \"react\";\nimport { FiCheckCircle } from \"react-icons/fi\";\nimport { GiHand } from \"react-icons/gi\";\nimport styled from \"styled-components/macro\";\nimport colors from \"../utils/colors\";\nimport { isBalanceZero } from \"../utils/index\";\nimport Ellipsis from \"./Ellipsis\";\n\nconst StyledBanner = styled.section`\n  display: flex;\n  border: 1px solid ${colors.lightGray};\n  padding: 20px 20px;\n  border-radius: 16px;\n  margin-bottom: 24px;\n  width: 100%;\n  max-width: 800px;\n  background: white;\n`;\n\nconst StyledInfo = styled.div`\n  flex: 1;\n`;\n\nconst StyledP1 = styled.p`\n  font-weight: 500;\n  font-size: 1.2em;\n  margin: 0 0 8px 0;\n`;\n\nconst StyledP2 = styled.p`\n  font-weight: light;\n  margin: 0;\n`;\n\nconst StyledDismissButton = styled.button`\n  margin-left: 16px;\n  border: 0;\n  background: none;\n  color: ${colors.green};\n  cursor: pointer;\n  font-weight: medium;\n\n  &:hover {\n    color: ${colors.darkGreen};\n  }\n`;\n\nconst StyledIcon = styled.div`\n  margin-right: 20px;\n`;\n\nexport function Banner({\n  line1,\n  line2,\n  icon,\n  onDismiss,\n}: {\n  line1: string;\n  line2: string;\n  icon?: React.ReactNode;\n  onDismiss?: () => void;\n}) {\n  return (\n    <StyledBanner>\n      {icon && <StyledIcon>{icon}</StyledIcon>}\n      <StyledInfo>\n        <StyledP1>{line1}</StyledP1>\n        <StyledP2>{line2}</StyledP2>\n      </StyledInfo>\n      {onDismiss && (\n        <StyledDismissButton onClick={onDismiss}>Dismiss</StyledDismissButton>\n      )}\n    </StyledBanner>\n  );\n}\n\nexport default function Banners({\n  balance,\n  withdrawal,\n  send,\n  setWithdrawal,\n  setSend,\n}: {\n  balance: string;\n  withdrawal: Withdrawal | undefined;\n  send: Send | undefined;\n  setWithdrawal: (w: Withdrawal | undefined) => void;\n  setSend: (s: Send | undefined) => void;\n}) {\n  if (send) {\n    if (!send.isComplete) {\n      return (\n        <Banner\n          icon={<Ellipsis />}\n          line1={`We're sending ${send.ethAmount} ETH to ${send.recipientAddress}!`}\n          line2={`Your money should arrive around ${send.eta}.`}\n        />\n      );\n    }\n\n    return (\n      <Banner\n        icon={<FiCheckCircle size={50} color={colors.green} />}\n        line1={`Your money was successfully sent!`}\n        line2={`It should now be available at the recipient address.`}\n        onDismiss={() => setSend(undefined)}\n      />\n    );\n  }\n\n  console.log(\"banner\", withdrawal);\n  if (withdrawal) {\n    if (!withdrawal.isComplete) {\n      return (\n        <Banner\n          icon={<Ellipsis />}\n          line1={`We're withdrawing ${withdrawal.totalEthAmount} ETH to your burner wallet.`}\n          line2={`Your cash should be available around ${withdrawal.eta}.`}\n        />\n      );\n    }\n    return (\n      <Banner\n        icon={<GiHand size={50} />}\n        line1={`We've withdrawn ${withdrawal.totalEthAmount} ETH to your burner wallet!`}\n        line2={`You can use it to anonymously send funds, register an ENS domain, donate on Gitcoin, and more.`}\n        onDismiss={() => setWithdrawal(undefined)}\n      />\n    );\n  }\n\n  if (isBalanceZero(balance)) {\n    return (\n      <Banner\n        line1=\"Welcome to Wallaroo, the easy burner wallet for Tornado.cash!\"\n        line2=\"Here, you can withdraw your Tornado.cash transactions to a temporary private address.\"\n      />\n    );\n  }\n\n  return null;\n}\n","/** @format */\n\nexport function truncateAddress(address: string): string {\n  return address.slice(0, 6) + \"...\" + address.slice(address.length - 4);\n}\n\nexport function ethToUsd(balance: string) {\n  // TODO(@yutaro): Fix this so the USD value is actually loaded\n  return 0; // eth.getUSDValue(balance);\n}\n\nexport function isBalanceZero(balance: string) {\n  return parseInt(balance) === 0;\n}\n","/** @format */\n\nimport React from \"react\";\nimport { FiChevronLeft } from \"react-icons/fi\";\nimport styled from \"styled-components/macro\";\n\nconst StyledChevron = styled(FiChevronLeft)`\n  transition: transform 0.25s ease;\n  margin-top: 2px;\n\n  &:hover {\n    transform: translate3d(-4px, 0, 0);\n  }\n`;\n\nexport default function AnimatedBack() {\n  return <StyledChevron size={24} />;\n}\n","/** @format */\n\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\nimport colors from \"../utils/colors\";\n\nconst StyledButton = styled.button`\n  background: ${colors.green};\n  border-radius: 4px;\n  color: white;\n  width: ${(props: { width: string | undefined }) => props.width || \"160px\"};\n\n  padding: 12px 16px;\n  border: 0;\n  font-family: \"Ubuntu\";\n  font-weight: bold;\n\n  &:disabled {\n    background: ${colors.mediumGray};\n  }\n\n  &:hover {\n    background-color: ${colors.darkGreen};\n  }\n`;\n\nexport default function Button({\n  children,\n  onClick,\n  width,\n  disabled = false,\n  ...props\n}: {\n  children: React.ReactNode;\n  onClick: () => void;\n  width?: string | undefined;\n  disabled?: boolean;\n}) {\n  return (\n    <StyledButton\n      onClick={onClick}\n      disabled={disabled}\n      width={width}\n      {...props}\n    >\n      {children}\n    </StyledButton>\n  );\n}\n","/** @format */\n\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\n\nconst StyledCard = styled.section`\n  border: 1px solid #eee;\n  border-radius: 16px;\n  padding: 20px;\n  width: 400px;\n  min-height: 250px;\n  box-sizing: border-box;\n  background-color: white;\n  position: relative;\n  z-index: 100;\n  margin-right: -280px;\n`;\n\nexport default function Card({ children }: { children: React.ReactNode }) {\n  return <StyledCard>{children}</StyledCard>;\n}\n","/** @format */\n\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\n\nconst StyledH2 = styled.h2`\n  font-weight: 300;\n  margin: 0;\n`;\n\nexport default function H2({ children }: { children: React.ReactNode }) {\n  return <StyledH2>{children}</StyledH2>;\n}\n","/** @format */\n\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\n\nconst StyledButton = styled.button`\n  border: 0;\n  background: none;\n  cursor: pointer;\n`;\n\nexport default function UnstyledButton(props: any) {\n  return <StyledButton {...props} />;\n}\n","/** @format */\n\nimport React, { useState } from \"react\";\nimport styled from \"styled-components/macro\";\nimport colors from \"../utils/colors\";\nimport AnimatedBack from \"./AnimatedBack\";\nimport Button from \"./Button\";\nimport Card from \"./Card\";\nimport H2 from \"./H2\";\nimport UnstyledButton from \"./UnstyledButton\";\n\nconst StyledHeader = styled.div`\n  display: flex;\n  align-items: center;\n  padding-bottom: 16px;\n  border-bottom: 1px solid ${colors.lightGray};\n  margin-bottom: 24px;\n`;\n\nconst StyledLabel = styled.label`\n  margin-bottom: 24px;\n  display: block;\n`;\n\nconst StyledLabelText = styled.p`\n  font-size: 0.9em;\n  font-weight: medium;\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n`;\n\nconst StyledInput = styled.input`\n  width: 100%;\n  box-sizing: border-box;\n  border: 0;\n  background-color: ${colors.lightGray};\n  padding: 12px 16px;\n  font-size: 1.2em;\n`;\n\nconst StyledFlex = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst StyledTokenLabel = styled.p`\n  margin-left: 12px;\n`;\n\nexport default function SendCard({ onBack }: { onBack: () => void }) {\n  const [amount, setAmount] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  function initiateWithdraw() {}\n\n  function handleAmountChange(e: { target: { value: string } }) {\n    setAmount(e.target.value);\n  }\n\n  function handleAddressChange(e: { target: { value: string } }) {\n    setAddress(e.target.value);\n  }\n\n  return (\n    <Card>\n      <StyledHeader>\n        <UnstyledButton onClick={onBack}>\n          <AnimatedBack />\n        </UnstyledButton>\n        <H2>Send from private wallet</H2>\n      </StyledHeader>\n      <div>\n        <StyledLabel>\n          <StyledLabelText>Amount</StyledLabelText>\n          <StyledFlex>\n            <StyledInput\n              onChange={handleAmountChange}\n              value={amount}\n              placeholder=\"0.0\"\n            />{\" \"}\n            <StyledTokenLabel>ETH</StyledTokenLabel>\n          </StyledFlex>\n        </StyledLabel>\n        <StyledLabel>\n          <StyledLabelText>Recipient Address</StyledLabelText>\n          <StyledInput\n            onChange={handleAddressChange}\n            value={address}\n            placeholder=\"0x\"\n          />\n        </StyledLabel>\n      </div>\n      <Button\n        onClick={initiateWithdraw}\n        width=\"100%\"\n        disabled={amount === \"\" || address === \"\"}\n      >\n        Confirm\n      </Button>\n    </Card>\n  );\n}\n","/** @format */\n\nimport React, { useState } from \"react\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport { FiCopy } from \"react-icons/fi\";\nimport styled from \"styled-components/macro\";\nimport { truncateAddress } from \"../utils\";\nimport colors from \"../utils/colors\";\n\nconst StyledAddress = styled.button`\n  border: 1px solid ${colors.lightGray};\n  padding: 12px 16px;\n  border-radius: 16px;\n  width: 160px;\n  background: none;\n  display: flex;\n  justify-content: flex-end;\n  background: ${(props: { copied: boolean }) =>\n    props.copied ? colors.yellowGreen : \"none\"};\n\n  &:hover,\n  :active {\n    background-color: ${colors.yellowGreen};\n    border-color: ${colors.yellowGreen};\n  }\n`;\n\nconst StyledPre = styled.pre`\n  padding: 0;\n  margin: 0;\n  display: flex;\n  align-items: center;\n`;\n\nexport default function Address({ address }: { address: string }) {\n  const [copied, setCopied] = useState(false);\n\n  return (\n    <div>\n      <CopyToClipboard\n        text={address}\n        onCopy={() => {\n          setCopied(true);\n          setTimeout(() => {\n            setCopied(false);\n          }, 2000);\n        }}\n      >\n        <StyledAddress copied={copied}>\n          <StyledPre>\n            {copied ? \"Copied!\" : truncateAddress(address)} <FiCopy />\n          </StyledPre>\n        </StyledAddress>\n      </CopyToClipboard>\n    </div>\n  );\n}\n","/** @format */\n\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\nimport colors from \"../utils/colors\";\nimport { ethToUsd } from \"../utils/index\";\nimport Address from \"./Address\";\nimport Button from \"./Button\";\nimport Card from \"./Card\";\nimport H2 from \"./H2\";\n\nconst StyledHeader = styled.section`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 16px;\n  border-bottom: 1px solid ${colors.lightGray};\n`;\n\nconst StyledUSD = styled.span`\n  font-size: 0.6em;\n  padding-bottom: 16px;\n`;\n\nconst StyledContents = styled.section`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StyledButtons = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst StyledTotal = styled.h3`\n  font-size: 2em;\n  padding: 16px 0 0 0;\n  margin: 0;\n`;\n\nconst StyledToken = styled.p`\n  padding: 20px 0;\n`;\n\nexport default function Wallet({\n  balance,\n  address,\n  onWithdraw,\n  onSend,\n}: {\n  balance: string;\n  address: string;\n  onWithdraw: () => void;\n  onSend: () => void;\n}) {\n  return (\n    <Card>\n      <StyledHeader>\n        <H2>Burner Wallet</H2>\n        <Address address={address} />\n      </StyledHeader>\n      <StyledContents>\n        <StyledTotal>\n          ${ethToUsd(balance)} <StyledUSD>USD</StyledUSD>\n        </StyledTotal>\n        <StyledToken>{balance} ETH</StyledToken>\n      </StyledContents>\n      <StyledButtons>\n        <Button onClick={onWithdraw}>Withdraw</Button>\n        <Button onClick={onSend} disabled={/* isBalanceZero(balance) */ false}>\n          Send\n        </Button>\n      </StyledButtons>\n    </Card>\n  );\n}\n","/** @format */\n\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\nimport HomeImage from \"../assets/home.png\";\nimport SendImage from \"../assets/send.png\";\nimport WithdrawImage from \"../assets/withdraw.png\";\n\ntype Props = {\n  marginLeft: number;\n  marginTop: number;\n};\n\nconst StyledImg = styled.img`\n  position: absolute;\n  height: 250px;\n  margin-left: ${(props: Props) => props.marginLeft}px;\n  margin-top: ${(props: Props) => props.marginTop}px;\n`;\n\nexport default function Wally({\n  view,\n}: {\n  view: \"home\" | \"withdraw\" | \"send\";\n}) {\n  let src = HomeImage;\n  let marginLeft = -290;\n  let marginTop = 0;\n  if (view === \"withdraw\") {\n    src = WithdrawImage;\n    marginLeft = -390;\n    marginTop = 0;\n  } else if (view === \"send\") {\n    src = SendImage;\n    marginLeft = -320;\n    marginTop = 40;\n  }\n\n  return (\n    <StyledImg src={src} marginLeft={marginLeft} marginTop={marginTop} alt=\"\" />\n  );\n}\n","/** @format */\n\nimport React, { useState } from \"react\";\nimport { FiInfo } from \"react-icons/fi\";\nimport ReactTooltip from \"react-tooltip\";\nimport styled from \"styled-components/macro\";\nimport colors from \"../utils/colors\";\nimport AnimatedBack from \"./AnimatedBack\";\nimport Button from \"./Button\";\nimport Card from \"./Card\";\nimport H2 from \"./H2\";\nimport UnstyledButton from \"./UnstyledButton\";\n// import createWithdraw from \"../utils/createWithdraw\";\nimport BurnerCore from \"@burner-wallet/core\";\n\n// const { parseNote, withdraw } = createWithdraw;\n\nconst StyledHeader = styled.div`\n  display: flex;\n  align-items: center;\n  padding-bottom: 16px;\n  border-bottom: 1px solid ${colors.lightGray};\n  margin-bottom: 24px;\n`;\n\nconst StyledTextarea = styled.textarea`\n  width: 100%;\n  height: 65px;\n  box-sizing: border-box;\n  border: 0;\n  border-radius: 4px;\n  background-color: ${colors.lightGray};\n  padding: 12px 16px;\n  margin-bottom: 16px;\n`;\n\nconst StyledLabel = styled.label``;\nconst StyledLabelText = styled.p`\n  font-size: 0.9em;\n  font-weight: medium;\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n`;\n\nexport default function WithdrawCard({ core, onBack }: { core: BurnerCore, onBack: () => void }) {\n  const [note, setNote] = useState(\"\");\n\n  function initiateWithdraw() {\n    const web3 = core.getWeb3(\"1\");\n    const address = core.getAccounts()[0];\n    // const noteObj = parseNote(note);\n    const relayer = \"http://tornado-mainnet.poa.network\";\n\n    // withdraw(web3, noteObj.deposit, noteObj.currency, noteObj.amount, address, relayer, \"0\");\n  }\n\n  function handleChange(e: { target: { value: string } }) {\n    setNote(e.target.value);\n  }\n\n  return (\n    <Card>\n      <ReactTooltip place=\"right\" />\n      <StyledHeader>\n        <UnstyledButton onClick={onBack}>\n          <AnimatedBack />\n        </UnstyledButton>\n        <H2>Withdraw from Tornado.cash</H2>\n      </StyledHeader>\n      <div>\n        <StyledLabel>\n          <StyledLabelText>\n            Notes (comma-separated) &nbsp;\n            <FiInfo data-tip=\"You'll receive a note for each deposit made in Tornado.cash.\" />\n          </StyledLabelText>\n          <StyledTextarea onChange={handleChange} value={note} />\n        </StyledLabel>\n      </div>\n      <Button onClick={initiateWithdraw} width=\"100%\" disabled={note === \"\"}>\n        Confirm\n      </Button>\n    </Card>\n  );\n}\n","/** @format */\n\nimport BurnerCore from \"@burner-wallet/core\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components/macro\";\nimport Banners from \"./Banners\";\nimport SendCard from \"./SendCard\";\nimport Wallet from \"./Wallet\";\nimport Wally from \"./Wally\";\nimport WithdrawCard from \"./WithdrawCard\";\n\ntype View = \"home\" | \"send\" | \"withdraw\";\n\nconst StyledContainer = styled.div`\n  position: relative;\n`;\n\nexport default function Contents({\n  balance,\n  address,\n  core,\n  withdrawal,\n  send,\n  setWithdrawal,\n  setSend,\n}: {\n  balance: string;\n  address: string;\n  core: BurnerCore;\n  withdrawal: Withdrawal | undefined;\n  send: Send | undefined;\n  setWithdrawal: (w: Withdrawal | undefined) => void;\n  setSend: (s: Send | undefined) => void;\n}) {\n  const [view, setView] = useState<View>(\"home\");\n  console.log(\"balance\", balance);\n  console.log(\"withdrawal\", withdrawal);\n  return (\n    <React.Fragment>\n      <Banners\n        balance={balance}\n        withdrawal={withdrawal}\n        send={send}\n        setWithdrawal={setWithdrawal}\n        setSend={setSend}\n      />\n      <StyledContainer>\n        <Wally view={view} />\n        <section>\n          {view === \"home\" && (\n            <Wallet\n              balance={balance}\n              address={address}\n              onSend={() => setView(\"send\")}\n              onWithdraw={() => setView(\"withdraw\")}\n            />\n          )}\n          {view === \"withdraw\" && (\n            <WithdrawCard core={core} onBack={() => setView(\"home\")} />\n          )}\n          {view === \"send\" && <SendCard onBack={() => setView(\"home\")} />}\n        </section>\n      </StyledContainer>\n    </React.Fragment>\n  );\n}\n","/** @format */\n\nimport React from \"react\";\nimport styled from \"styled-components/macro\";\nimport colors from \"../utils/colors\";\n\nconst StyledNav = styled.nav`\n  max-width: 840px;\n  width: 100%;\n  display: flex;\n  text-align: left;\n  padding: 20px;\n  color: ${colors.darkGreen};\n`;\n\nconst StyledH1 = styled.h1`\n  text-align: left;\n`;\n\nexport default function Nav() {\n  return (\n    <StyledNav>\n      <StyledH1>Wallaroo</StyledH1>\n    </StyledNav>\n  );\n}\n","/** @format */\n\nimport { dai, eth } from \"@burner-wallet/assets\";\nimport BurnerCore from \"@burner-wallet/core\";\nimport InfuraGateway from \"@burner-wallet/core/gateways/InfuraGateway\";\nimport InjectedSigner from \"@burner-wallet/core/signers/InjectedSigner\";\nimport LocalSigner from \"@burner-wallet/core/signers/LocalSigner\";\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components/macro\";\nimport Contents from \"./Contents\";\nimport Ellipsis from \"./Ellipsis\";\nimport Nav from \"./Nav\";\n\ndeclare global {\n  interface Window {\n    genZKSnarkProof: any;\n  }\n}\n\nconst StyledApp = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 0 40px;\n`;\n\nfunction App() {\n  // const withdrawalEx = {\n  //   note: \"asdfasdf\",\n  //   totalEthAmount: 0.3,\n  //   eta: \"15:45\",\n  //   isComplete: false,\n  // };\n\n  // const sendEx = {\n  //   ethAmount: 0.1,\n  //   recipientAddress: \"0x235829357239529385\",\n  //   eta: \"18:44\",\n  //   isComplete: false,\n  // };\n\n  const [balance, setBalance] = useState<string | undefined>(undefined);\n  const [core, setCore] = useState<BurnerCore | undefined>(undefined);\n  const [address, setAddress] = useState<string | undefined>(undefined);\n  const [withdrawal, setWithdrawal] = useState<Withdrawal | undefined>(undefined);\n  const [send, setSend] = useState<Send | undefined>(undefined);\n\n  // Fetch the balance, address, in-progress withdrawal, and in-progress send\n  useEffect(() => {\n    // TODO(Fetch from cookie)\n    const core = new BurnerCore({\n      signers: [new LocalSigner(), new InjectedSigner()],\n\n      // A single Infura key can handle up to 100k requests per day before being rate-limited.\n      // If we get more traffic than that, we would need to switch to an Ethereum node.\n      gateways: [new InfuraGateway(process.env.REACT_APP_INFURA_KEY)],\n      assets: [dai, eth],\n    });\n\n    setCore(core);\n\n    const address = core.getAccounts()[0];\n    setAddress(address);\n\n    const web3 = core.getWeb3(\"1\");\n\n    web3.eth.getBalance(address).then((_balance) => {\n      setBalance(_balance);\n    });\n  }, []);\n\n  useEffect(() => {\n    const script = document.createElement('script');\n\n    script.src = \"websnark.js\";\n    script.async = true;\n\n    document.body.appendChild(script);\n\n    return () => {\n      document.body.removeChild(script);\n    }\n  }, []);\n\n  let contents =\n    balance && address && core ? (\n      <Contents\n        balance={balance}\n        address={address}\n        core={core}\n        withdrawal={withdrawal}\n        send={send}\n        setWithdrawal={setWithdrawal}\n        setSend={setSend}\n      />\n    ) : (\n      <Ellipsis size={100} />\n    );\n\n  return (\n    <StyledApp>\n      <Nav />\n      {contents}\n    </StyledApp>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","/** @format */\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const { toBN, toChecksumAddress, padLeft, hexToNumberString } = require('web3-utils');\nconst Asset = require('./Asset');\n\nconst POLL_INTERVAL = 2500;\n\nconst TRANSFER_TOPIC = '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef';\n\nclass NativeAsset extends Asset {\n  constructor({ pollInterval=POLL_INTERVAL, ...props }) {\n    super({ ...props, type: 'native' });\n    this._pollInterval = pollInterval;\n  }\n\n  getBalance(account) {\n    return this.getWeb3().eth.getBalance(account);\n  }\n\n  supportsMessages() {\n    return true;\n  }\n\n  startWatchingAddress(address) {\n    let block = 0;\n    let balance = 0;\n    return this.poll(async () => {\n      const web3 = this.getWeb3();\n      const [currentBlock, currentBalance] = await Promise.all([\n        web3.eth.getBlockNumber(),\n        web3.eth.getBalance(address),\n      ]);\n\n      if (block !== 0 && balance !== currentBalance) {\n        const offsetBalance = web3.utils.toBN(balance)\n          .add(web3.utils.toBN(this.getBalanceDelta(address, block + 1, currentBlock)));\n        if (offsetBalance !== currentBalance) {\n          await this.scanBlocks(address, block + 1, currentBlock)\n        }\n      }\n\n      block = currentBlock;\n      balance = currentBalance;\n    }, this._pollInterval);\n  }\n\n  async scanBlocks(address, startBlock, toBlock) {\n    const _address = address.toLowerCase();\n    const web3 = this.getWeb3();\n\n    const logs = await web3.eth.getPastLogs({\n      fromBlock: startBlock,\n      toBlock,\n      address,\n      topics: [TRANSFER_TOPIC],\n    });\n    for (let log of logs) {\n      const parsedLog = this.getTransferLog([log]);\n      this.core.addHistoryEvent({\n        asset: this.id,\n        assetName: this.name,\n        type: 'send',\n        from: parsedLog.args.from,\n        to: parsedLog.args.to,\n        value: parsedLog.args.value,\n        displayValue: this.getDisplayValue(parsedLog.args.value),\n        message: null,\n        timestamp: await this._getBlockTimestamp(parsedLog.blockNumber),\n      })\n    }\n\n    const blockNums = [];\n    for (let blockNum = startBlock; blockNum <= toBlock; blockNum += 1) {\n      blockNums.push(blockNum);\n    }\n\n    await Promise.all(blockNums.map(async blockNum => {\n      const block = await web3.eth.getBlock(blockNum);\n      await Promise.all(block.transactions.map(async txHash => {\n        const tx = await web3.eth.getTransaction(txHash);\n        if (tx.value !== '0' && tx.to.toLowerCase() === _address) {\n          this.core.addHistoryEvent({\n            id: tx.hash,\n            asset: this.id,\n            type: 'send',\n            value: tx.value,\n            from: tx.from,\n            to: tx.to,\n            message: tx.input.length > 2 ? web3.utils.toUtf8(tx.input) : null,\n            tx: tx.hash,\n            timestamp: block.timestamp,\n          });\n        }\n      }));\n    }));\n  }\n\n  getBalanceDelta(address, startBlock, endBlock) {\n    const web3 = this.getWeb3();\n    return this.core.getHistoryEvents({ asset: this.id, fromBlock: startBlock, toBlock: endBlock })\n      .filter(event => event.to === address || event.from === address)\n      .reduce((reducer, event) => event.to === address\n        ? web3.utils.toBN(reducer).add(web3.utils.toBN(event.value))\n        : web3.utils.toBN(reducer).sub(web3.utils.toBN(event.value)), '0');\n  }\n\n  async getSendFee(from, to) {\n    const web3 = this.getWeb3();\n    const [gas, gasPrice] = await Promise.all([\n      web3.eth.estimateGas({ from, to, value: '1' }),\n      web3.eth.getGasPrice(),\n    ]);\n    return toBN(gas).mul(toBN(gasPrice)).toString();\n  }\n\n  async _send({ message, ...params }) {\n    const web3 = this.getWeb3();\n    const data = message ? web3.utils.fromUtf8(message) : undefined;\n    const receipt = await web3.eth.sendTransaction({ data, ...params });\n    return {\n      ...receipt,\n      txHash: receipt.transactionHash,\n      id: receipt.transactionHash,\n    };\n  }\n\n  async getTx(txHash) {\n    const web3 = this.getWeb3();\n    const [tx, receipt] = await Promise.all([\n      web3.eth.getTransaction(txHash),\n      web3.eth.getTransactionReceipt(txHash),\n    ]);\n\n    if (!tx || !receipt) {\n      return null;\n    }\n\n    if (receipt.logs.length > 0 && this.getTransferLog(receipt.logs)) {\n      const log = this.getTransferLog(receipt.logs);\n      return {\n        asset: this.id,\n        assetName: this.name,\n        from: log.args.from,\n        to: log.args.to,\n        value: log.args.value,\n        displayValue: this.getDisplayValue(log.args.value),\n        message: null,\n        timestamp: await this._getBlockTimestamp(log.blockNumber),\n      }\n    }\n\n    return {\n      asset: this.id,\n      assetName: this.name,\n      from: tx.from,\n      to: tx.to,\n      value: tx.value,\n      displayValue: this.getDisplayValue(tx.value),\n      message: tx.input.length > 2 ? web3.utils.toUtf8(tx.input) : null,\n      timestamp: await this._getBlockTimestamp(tx.blockNumber),\n    };\n  }\n\n  getTransferLog(logs) {\n    for (const log of logs) {\n      if (log.topics[0] === TRANSFER_TOPIC && (\n        log.address === toChecksumAddress(log.topics[1].substr(26))\n        || log.address === toChecksumAddress(log.topics[2].substr(26))\n      )) {\n        return {\n          ...log,\n          args: {\n            from: toChecksumAddress(log.topics[1].substr(26)),\n            to: toChecksumAddress(log.topics[2].substr(26)),\n            value: hexToNumberString(log.data),\n          },\n        };\n      }\n    }\n    return null;\n  }\n}\n\nmodule.exports = NativeAsset;\n"],"sourceRoot":""}